## 计算属性

#### 什么是计算属性

绑定数据时，表达式如果过长，或逻辑更为复杂时，就会变得雕肿甚至难以阅读和维护，所以在遇到复杂的逻辑时应该使用计算属性

所有的计算属性都以函数的形式写在 Vue 实例内的**computed** 选项内，最终返回计算后的结果。



#### 计算属性用法

在一个计算属性里可以完成各种复杂的逻辑，包括运算、函数调用等，只要最终返回一个结果就可以。

计算属性还可以依赖**多个 Vue 实例**的数据，只要其中任一数据变化，计算属性就会重新执行，视图也会更新

**getter和setter**
每一个计算属性都包含一个 getter 和一个 setter方法。如果计算属性直接跟一个function，默认的就是设置为 getter函数；如果给计算属性传入一个值，用来手动修改计算属性的值就像修改一个普通数据那样时，就会触发 setter函数，执行一些自定义的操作

小技巧：

1. 计算属性可以依赖其他计算属性
2. 计算属性不仅可以依赖当前 Vue 实例的数据，还可以依赖其他实例的数据



#### 计算属性缓存

调用 methods 里的方法也可以与计算属性起到同样的作用，甚至方法还可以接受参数，使用起来更灵活。

既然使用 methods 就可以实现，那么为什么还需要计算属性呢？原因就是**计算属性是基于它的依赖缓存的**。 一个计算属性所依赖的数据发生变化时，它才会重新取值

**结论：**

- 方法（使用时需要加括号）： 如果是调用方法，只要页面重新渲染，方法就会重新执行；不需要渲染，则不需要重新执行

- 计算属性：不管渲染不渲染，只要计算属性依赖的数据未发生变化，就永远不变

**何时使用:** 

使用计算属性还是 methods 取决于你**是否需要使用缓存**，当遍历大数组和做大量计算时，应当使用计算属性，除非你不希望得到缓存。



#### 侦听器

watch 响应数据的变化。当需要在数据变化时执行异步或开销较大的操作时，这个方式是最有用的。