### 码流(Data Rate)

码流是指**视频文件在单位时间内使用的数据流量**，也叫码率或码流率，通俗一点的理解就是取样率,是视**频编码中画面质量控制中最重要的部分**，一般我们用的单位是kb/s或者Mb/s。

一般来说同样分辨率下，视频文件的码流越大，压缩比就越小，画面质量就越高。

文件体积=时间X码率/8

音频及视频都有各自不同的采样方式和比特率，同一个视频文件音频和视频的比特率并不是一样的。而我们所说的一个视频文件码流率大小，一般是指视频文件中音频及视频信息码流率的总和。

### 码率（Bit rate）

码率即比特率，指每秒传送的比特数，单位为bps(bit per second)。

比特率表示**经过编码（压缩）后的音、视频数据每秒钟需要用多少个比特来表示**，而比特就是二进制里面最小的单位，要么是0，要么是1。

比特率与音、视频压缩的关系，简单的说就是比特率越高，音、视频的质量就越好，但编码后的文件就越大；如果比特率越少则情况刚好相反。

比特率是指将数字声音、视频由模拟格式转化成数字格式的采样率，采样率越高，还原后的音质、画质就越好。

1Mbps=1024kbps=1048576bps

1B/s=8bps

一般情况下，720P的码流码率在2—4Mbps左右，1080P的码流码率在4—8Mbps左右。因此用户观看视频时有一定的宽带要求，在看720P的视频时带宽不能少于2M，看1080P的视频带宽至少要4M以上。

### 分辨率（Resolution）

分辨率一般从显示分辨率与图像分辨率两个方向来分类。

显示分辨率(屏幕分辨率)是屏幕图像的精密度，是指**显示器所能显示的像素有多少**。由于屏幕上的点、线和面都是由像素组成的，显示器可显示的像素越多，画面就越精细，同样的屏幕区域内能显示的信息也越多。

图像分辨率则是单位英寸中所包含的像素点数，指的是图像的尺寸大小，分辨率越高，图像越大。

一般来说，在码率一定的情况下，分辨率越高，视频质量越差。

720P以下的分辨率称为标清（400线左右，如480P），720P称为高清，1080P/1080I称为全高清，超过1080P/1080I的称为超高清。

### 帧率（Frame rate）

帧指的是码流中的单张画面，帧率指**单位时间内刷新的图片的帧数，也可以理解为图形处理器每秒钟能够刷新几次。**

测量单位为每秒显示帧数(Frame per Second,简称FPS)。帧率的骤变最容易给人造成画面卡顿掉帧的感觉，稳定的高帧率能保证视频的流畅感。

帧率>16fps 连贯

帧率>30fps 基本流畅

帧率> 60fps 明显提升交互感和逼真感

影响FPS值的主要因素就是显卡，一款好的独立显卡会对FPS的提升有着很大的作用。如果FPS值过低可以尝试通过调节一些游戏或者电脑参数来缓解如：降低游戏分辨率、开启垂直同步等等。

###  采样率

也称为采样速度或者采样频率，定义了每秒从连续信号中提取并组成离散信号的采样个数，它用赫兹（Hz）来表示。采样率是指将**模拟信号转换成数字信号时的采样频率**，也就是单位时间内采样多少点。一个采样点数据有多少个比特。

采样率越高，听到的声音和看到的图像就越连贯

### 丢包率（Packet loss rate/Loss Tolerance）

丢包率指**传输中所丢失的数据包数量占全部发送数据包数量的比率**。

因素：与数据包长度以及包发送频率相关。

丢包率越大，画面卡顿越严重甚至无画面。一般来说，丢包率超过2%时，画面会出现明显的掉帧。检查丢包率的方法一般通过长ping或者tracert（或traceroute）来检测，也有一些工具软件可以用来检测或模拟丢包情况，如iperf、netperf等。

### 延时（delay）

指的是**数据从产生到接收的过程中耗费的时间**，即网络传输延时。

因素：传输过程的丢包、网关转换慢、节点处理慢等

如果网络环境中存在不稳定的延时会容易造成跳帧、卡帧等情况。通常，局域网内延时要求在400ms以下，广域网或互联网延时要求在3~5s以内。

### 往返时延RTT(Round-Trip Time)

RTT=传播时延（往返）+排队时延（路由器和交换机的）+数据处理时延（应用程序的）

### **服务质量**qos(Quality of Service）

QoS是网络的一种安全机制, 是用来解决网络延迟和阻塞等问题的一种技术。

对于网络业务，服务质量包括传输的带宽、传送的时延、数据的丢包率等。在网络中可以通过保证传输的带宽、降低传送的时延、降低数据的丢包率以及时延抖动等措施来提高服务质量。

- qos下发值

### 参考帧集RPS（Reference Picture Set）

HEVC采用了参考帧集（RPS）的技术来管理已解码的帧，用作后续图像的参考。

- RPS参考距离

jitb

### 前向纠错编码（FEC）

在传输码列中加入冗余纠错码，在一定条件下，通过解码可以自动纠正传输误码，降低接收信号的误码率（BER）

基本原理：在发送端，通过将kbit信息作为一个分组进行编码，加入（n-k）bit的冗余校验信息，组成长度为n bit的码字。码字经过信道到达接收端之后，如果错误在可纠范围之内，通过译码即可检查并纠正错误bit，从而抵抗信道带来的干扰，提高通信系统的可靠性。

- FEC比例 

  n-k : k

- FEC恢复数

### 自动重传请求（ARQ）

使用确认和超时这两个机制，在不可靠服务的基础上实现可靠的信息传输。如果发送方在发送后一段时间之内没有收到确认帧，它通常会重新发送。

ARQ包括停止等待ARQ协议和连续ARQ协议

连续ARQ协议包括回退N重传(Go-Back-N)和选择重传(Selective Repeat)

ARQ协议对错误纠正的方法是：

1. 丢弃已经接收的含有错误的数据包。

2. 向发送点请求重新发送数据包。

- ARQ恢复数





