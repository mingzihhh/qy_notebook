#### 是什么

微前端（Micro Frontends）是一种前端架构模式，将大型单体前端应用拆分为多个小型、独立、可组合的前端应用，各个子应用独立开发、独立部署，并在运行时组合成一个整体。每个子应用可以单独运行、单独部署，并且可以使用不同的前端框架和技术栈，实现更高的模块化和团队协作。

#### 解决什么问题

解决随着组织和团队越来越庞大，系统越来越复杂时所带来的**工程问题**，比如：构建/测试/发布越来越耗时，引用关系混乱、耦合严重导致维护困难，开发调试效率低、需求上线相互牵制、团队间协同效率低等等。 

组织架构越庞大，系统间沟通成本越高。那么将一个大的系统拆分成一个个小的系统，将主要依赖收敛于小系统内部，系统间的沟通成本自然就降低了



#### 适用场景

**适用场景** 

- 中大型系统（中后台居多），子模块彼此比较独立（有着相对明确的边界），多团队开发 
  - 内部有模块要拆到不同团队开发了，怎么发布上线

- 需要快速将一些跨技术栈或者历史遗留的子系统集成到一个应用中 
  - 研发运营中台搭建，需要集合之前自平台的功能和代码


**不适用场景** 

- 系统体量小，团队开发成员不多 

- 正面解决当前系统存在问题的成本要低于做系统拆分分而治之的方式，并且预估系统熵增的速度（业务扩展）有限 

- 模块(业务)之间强耦合 

  

#### 优缺点

**微前端的特点和优点**：

1. **独立开发和部署**：
   - 各个子应用可以由不同的团队独立开发和部署，这样可以提升开发速度和团队协作效率，特别适合大规模的团队合作。
2. **技术栈无关**：
   - 每个子应用可以使用不同的前端框架和技术栈，例如一个子应用可以使用 React，另一个子应用可以使用 Angular。这允许团队选择最适合解决特定问题的工具和技术。
3. **模块化**：
   - 将大型单体应用拆分为多个小型模块，每个模块独立，并只关注自己的业务逻辑。这提高了代码的可维护性和可复用性。
4. **渐进迁移**：
   - 允许从传统的单体应用逐步迁移到微前端架构，不需要一次性重构整个系统。在迁移过程中，可以逐步将现有的应用拆分为多个子应用。
5. **故障隔离**：
   - 各个子应用之间相互独立，一个子应用的故障不会影响到其他子应用的正常运行，提高了系统的可靠性。



在实际场景中，微前端框架本身能解决的问题十分有限，或者说要将系统以微前端的方式run起来，并稳定持续迭代，仅仅做拆分/聚合是完全不够的。**在企业级的系统开发中，更多精力是耗费在配套设施的完善，复杂度从代码转向基础设施： **

- 本地调试 

- 监控系统 

- 测试体系 

- 灰度/发布 

- 配置管理 

  

**主要缺点：**

1. **增加复杂性**

微前端架构需要处理更多的**模块化设计、跨应用通信和共享状态**等问题，这增加了系统的复杂性。开发人员需要额外的时间和精力来管理这些问题。

2. **性能问题**

每个微前端应用可能需要加载自己的依赖项和资源，这可能会导致重复加载相同的库或资源，增加网络请求次数和页面加载时间。需要特别注意**资源共享和缓存策略**，以减少性能开销。

3. **样式冲突**

不同的微前端应用可能会使用不同的样式库或全局 CSS，这可能会导致样式冲突和布局问题。需要采取**样式隔离和命名空间策略**来避免这种问题。

4. **跨应用通信**

在微前端架构中，跨应用通信和共享状态可能会变得复杂。需要设计健壮的通信机制和状态管理解决方案，以确保各子应用之间的数据同步和一致性。

5. **构建和部署复杂化**

每个微前端应用都需要独立构建和部署，这增加了构建和部署流程的复杂性。需要配置和管理多个构建工具和流水线，以确保各子应用的正确打包和部署。

6. **版本管理和依赖冲突**

不同的微前端应用可能使用不同版本的相同依赖库，这可能会导致版本冲突和不兼容问题。需要制定依赖管理策略，确保各应用之间的依赖库版本兼容。

7. **调试难度**

从调试和测试的角度来看，微前端架构可能会增加难度。需要处理多个独立应用的调试和测试，并确保它们在集成后能正常工作。

8. **团队协作**

在大规模团队中，如何有效地分配和协调各个子应用的开发工作，可能会成为一个挑战。需要做好开发规范和协作流程，确保各团队的工作能够无缝集成。



#### 其他

在微前端出现之前前端解决方案只有两种：

1. 将平台内多个系统放置同一个代码仓库维护 ，采用 SPA（Single-page Application） 单页应用模式
2. 将系统分为多个仓库维护，在首页聚合所有平台的入口，采用 MPA（Multi-page Application）多页应用模式

但是这两种方案都各有优劣，尤其是劣势是rd和用户无法接受的

**SPA（融合）**：在日常开发中研发：代码构建半小时以上、发布需求时被需求阻塞、无法局部灰度局部升级、项目遇到问题时回滚影响其他业务、无法快速引进新的技术体系提高生产力，项目的迭代和维护对于研发同学而言无疑是噩梦。降低DX

**MPA（隔离）**：降低了用户/研发体验。体验较差的原因在于将由于通过项目维度拆分了整体「研发中台」这样的一个产品，使各个产品之间是独立的孤岛，系统间相互跳转都是传统意义上的 MPA，跳转需要重新加载整个页面的资源，除了性能远不如 SPA 且应用间没法直接通信，这就进一步增强了用户在使用产品时的割裂感。降低DX、UX