在 api/lamda 中定义接口文件，并导出接口函数；在前端代码中通过文件引用的方式，直接调用这些接口函数，发起接口请求，不需要通过请求 sdk 或 web fetch

开发者无需编写前后端胶水层代码，并且天然保证前后端类型安全

Edenx 封装了请求 sdk，浏览器端依赖 fetch API，服务端依赖 node-fetch



- 使用 zod 定义接口 schema：query/params/data/headers
  - 为什么不使用 ts：在运行时获取 ts 静态类型信息的方案都不够成熟，zod 更容易扩展
  - 可以写 ts，然后使用 ts-to-zod

- 服务端会根据传入的 schema 对前端传入的数据进行类型校验
- middleware：在校验和接口逻辑之间执行
- 数据转换 pipe：传入一个函数在中间件和校验完成后执行，可以配置多次，使用场景：
  - 转换请求携带参数和数据
  - 对请求的数据进行自定义校验，校验失败可以选择抛出异常或者直接返回错误信息
- 响应：指定状态码 / 响应头 / 设置重定向
- 获取请求上下文



