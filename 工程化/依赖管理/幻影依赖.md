当我们在项目中使用了一个没有在 `package.json` 文件中定义的的包时，这便引入了幻影依赖。



#### 为什么会产生幻影依赖？

npm 会选择将依赖进行 hoist 处理，即将一些二级或者多级依赖提升到一级依赖的位置，这样可以减少 node_modules 的层级，这本来是为了解决 npm@2 在 windows 下嵌套依赖过深导致的依赖完整路径过长的问题，但是这却带来了其他问题。



#### 如何解决幻影依赖问题？

- 依赖在哪里用到就在哪里安装，不要依赖 hoist 和蹭。
- 使用 pnpm