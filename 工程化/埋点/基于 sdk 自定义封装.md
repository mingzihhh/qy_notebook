## 二次封装

#### 制定埋点规范

- 事件定义
  - 页面/模块曝光
  - 交互
  - 页面跳转
  - 页面停留时长：用户在当前页面的停留时长
  - 模块停留时长：模块在用户当前设备设备视口区域的停留时长
- 事件命名
- 通用参数
  - 事件必填参数
  - 业务埋点参数
  - 全局公共参数（session_id , url, cluster 前端机房，version 前端版本号）
  - Tea 默认上报参数
- 上报方式
- 合作流程

| 分工和职责                                                   |
| ------------------------------------------------------------ |
| 需求阶段 ：从研发视角输出数据埋点想法开发评审                |
| 设计阶段：进行埋点需求设计评审，输出埋点设计文档组织埋点     |
| 开发阶段：埋点录入埋点开发                                   |
| 发布和分析总结阶段？看板建设（Tea）、定期数据分析(需求上线后1个月后)和复盘 |



#### 基于 Tea 的封装

- 包装成组件 / hook
- 公共参数获取